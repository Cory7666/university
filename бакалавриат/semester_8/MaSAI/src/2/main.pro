% A - Андреев
% B - Борисов
% C - Васильев
% D - Григорьев
% E - Данилов

test([A, B, C, D, E]) :-
    (A == 'Ярославль'; D == 'Гагарин'),
    (C == 'Гагарин';   B == 'Вязьма'),
    (C == 'Ярославль'; B == 'Ельни'),
    (D == 'Гагарин';   E == 'Ярцев'),
    (E == 'Ярцев';     A == 'Вязьма').

